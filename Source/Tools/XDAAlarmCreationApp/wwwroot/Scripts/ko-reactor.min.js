ko.subscribable.fn.watch=function(a,b,c,d){var e=typeof a;return"boolean"===e||"undefined"===e?ko.watch(this,{enabled:a!==!1}):"function"!==e||ko.isSubscribable(a)?ko.watch(a,b,c,d||this):ko.watch(this,b||{},a,d||this),this},ko.watch=function(a,b,c,d){function e(f,g,h,i,j){if(f&&0!==b.depth&&(-1===b.depth||h.length<(b.depth||1))){if(b.watchedOnly&&!f.watchable&&f!=a)return;if((b.enabled===!1||b.enabled===!0)&&(f.watchable=b.enabled),f.watchable===!1)return;if(b.seal===!0&&(f.watchable=!1),f===g||ko.utils.arrayIndexOf(h,f)>-1)return;var k=[].concat(h,g&&g!==a?g:[]);if(b.hide&&("object"==typeof b.hide?b.hide===f:ko.utils.arrayIndexOf(b.hide,f)>-1))return;if(ko.isSubscribable(f)){if(c&&(i===!0||!b.beforeWatch||b.beforeWatch.call(d,k,f)!==!1)){if("function"==typeof f.pop)return f.subscribe(function(a){ko.utils.arrayForEach(a,function(a){var b=c.call(d,k,f,a);void 0!==b&&d(b),a.moved||setTimeout(function(){e(a.value,j?null:f,k,"deleted"===a.status)},0)})},void 0,"arrayChange"),e(f(),j?null:f,k,i,!0),!0;if(i===!0){var l=f.H||f._subscriptions;if(l){if(l.change)for(var m=l.change.length-1;m>=0;m--)l.change[m]._watcher===d&&l.change[m].dispose();if(l.beforeChange&&b.keepOldValues>0)for(var m=l.beforeChange.length-1;m>=0;m--)l.beforeChange[m]._watcher===d&&l.beforeChange[m].dispose()}e(f(),j?null:f,k,!0,!0)}else{if(b.enabled===!0&&f.watchable===!1)return;(b.keepOldValues>0||b.mutable)&&(f.subscribe(function(a){if(b.keepOldValues>0){var c=f.oldValues?f.oldValues:f.oldValues=[];for(c.unshift(a);c.length>b.keepOldValues;)c.pop()}b.mutable&&"object"==typeof a&&e(a,j?null:f,k,!0,!0)},null,"beforeChange")._watcher=d),f.subscribe(function(){if(f.watchable!==!1){var a=c.call(d,k,f);void 0!==a&&d(a),b.mutable&&"object"==typeof f()&&e(f(),j?null:f,k)}},null,"change")._watcher=d,b.hideWrappedValues!==!0&&e(f(),j?null:f,k)}}}else switch(Object.prototype.toString.call(f)){case"[object Object]":return ko.utils.objectForEach(f,function(a,c){if(b.wrap){var g=Object.prototype.toString.call(c);"[object Function]"!==g&&"[object Object]"!==g&&(b.beforeWrap&&b.beforeWrap.call(d,k,f,c)===!1||(c=f[a]="[object Array]"===g?ko.observableArray(c):ko.observable(c)))}var h=e(c,j?null:f,k,i);h&&b.tagParentsWithName===!0&&!c._fieldName&&(c._fieldName=a)}),!0;case"[object Array]":if(b.hideArrays!==!0)for(var m=0;m<f.length;m++)e(f[m],j?null:f,k,i);return!0}}}return"function"==typeof b&&(d=d||c,c=b,b={}),d=d||this,"function"!=typeof a||ko.isSubscribable(a)?void e(a,null,[]):ko.computed(a,c,b)};window.foo = "1.3.0";